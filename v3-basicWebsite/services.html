<!DOCTYPE html>
<html lang="en">    
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Removalist Website</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <header>
            <div class="navbar">
                <a class="navbutton" href="index.html">About Us</a>
                <a id="selected" class="navbutton" href="services.html">Services</a>
                <!--<a class="navbutton" href="contact.html">Contact</a>-->
            </div>
        </header>
        <main>
            <section class="rounded-section">   
                <div class="service-container">
                    <h3 class="service-title">Tip Runs</h3>
                    <p class="service-description">We specialize in tip runs, removing unwanted items large and small.</p>
                </div>
                <a href="services.html?service=Tip%20Runs" class="button">Select</a>
            </section>
            <section class="rounded-section">   
                <div class="service-container">
                    <h3 class="service-title">Handywork</h3>
                    <p class="service-description">We offer a variety of handywork services to assist like building furniture, mounting TVs, and general home repairs.</p>
                </div>
                <a href="services.html?service=Handywork" class="button">Select</a>
            </section>
            <section class="rounded-section">   
                <div class="service-container">
                    <h3 class="service-title">Dog Walking</h3>
                    <p class="service-description">We offer stress-free dog walking services to free up your time.</p>
                </div>
                <a href="services.html?service=Dog%20Walking" class="button">Select</a>
            </section>
            <div class="contact-form">
                <h2>Send a Message</h2>
                <form action="#" method="POST">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Your name" required>
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="Your email" required>
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="5" placeholder="Your message..." required></textarea>
                    <button type="submit" class="contact-button">Send</button>
                </form>
            </div>
            <section class="contact-info">
                <p>If you have any questions or would like to book a service, please contact us:</p>
                <p>Email: contact@email.com</p>
                <p>Phone: (123) 456-7890</p>
            </section>
        </main>
    <footer>
    <div class="footer-content">
        <div class="footer-left">
            <p>Gold Coast<br>Brisbane</p>
        </div>
        <div class="footer-center">
            <a href="services.html?service=contact" class="footer-button">Contact</a>
        </div>
        <div class="footer-right">
            <p>contact@email.com<br>phone</p>
        </div>
    </div>
    <p class="footer-copy">&copy; 2025 Fletcher Carlton</p>
    </footer>
        <script>
    const params = new URLSearchParams(window.location.search);
    const service = params.get("service");

    const nameInput = document.getElementById("name");
    const emailInput = document.getElementById("email");
    const messageField = document.getElementById("message");
    const form = document.querySelector(".contact-form form");

    // Default: clear message box on page load
    if (!service) {
        messageField.value = "";
    } else {
        // Pre-fill message only if service param exists
        if (service === "contact") {
            messageField.value = "Hi, let's get in touch!";
        } else {
            messageField.value = `Hi, I'm interested in your ${service} service. Please provide more details.`;
        }

        // Highlight fields
        nameInput.classList.add("input-highlight");
        emailInput.classList.add("input-highlight");

        // Clear ?service param from URL on first input
        const clearServiceParam = () => {
            if (window.location.search.includes("service")) {
                const newUrl = window.location.origin + window.location.pathname;
                history.replaceState({}, "", newUrl);
            }
        };

        [nameInput, emailInput, messageField].forEach(input => {
            input.addEventListener("input", () => {
                input.classList.remove("input-highlight");
                clearServiceParam();
            }, { once: true });
        });
    }

    // Validate on form submit
    form.addEventListener("submit", function (e) {
        let valid = true;

        if (!nameInput.value.trim()) {
            nameInput.classList.add("input-highlight");
            valid = false;
        }

        const emailValue = emailInput.value.trim();
        if (!emailValue || !/\S+@\S+\.\S+/.test(emailValue)) {
            emailInput.classList.add("input-highlight");
            valid = false;
        }

        if (!messageField.value.trim()) {
            messageField.classList.add("input-highlight");
            valid = false;
        }

        if (!valid) {
            e.preventDefault(); // Prevent submission
        }
    });
</script>

    </body>
</html>